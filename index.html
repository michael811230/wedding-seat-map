<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>座位查詢與平面圖亮燈</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root {
      --gold: #c9a768;
      --gold-soft: #e3cfa0;
      --bg: #f4e9dd;
      --text-main: #4a4036;
      --text-sub: #7b6a5a;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans TC", system-ui, sans-serif;
    }

    body {
      background: radial-gradient(circle at top, #fdf7f0 0, var(--bg) 55%);
      color: var(--text-main);
      line-height: 1.8;
      padding: 24px 12px 40px;
    }

    h1 {
      text-align: center;
      font-size: 22px;
      margin-bottom: 8px;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--gold);
    }

    .sub {
      text-align: center;
      font-size: 13px;
      color: var(--text-sub);
      margin-bottom: 18px;
    }

    .layout {
      max-width: 1100px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: minmax(0, 320px) minmax(0, 1fr);
      gap: 20px;
      align-items: flex-start;
    }

    .card {
      background: #ffffff;
      border: 1.3px solid var(--gold-soft);
      padding: 18px 18px 20px;
      box-shadow: 0 10px 26px rgba(120, 93, 60, 0.12);
    }

    .card-title {
      font-size: 14px;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--gold);
      margin-bottom: 6px;
    }

    .card-sub {
      font-size: 12px;
      color: var(--text-sub);
      margin-bottom: 12px;
    }

    .seat-input {
      width: 100%;
      padding: 10px 11px;
      border-radius: 0;
      border: 1.4px solid var(--gold-soft);
      font-size: 14px;
      outline: none;
      background: #fdf9f3;
    }

    .seat-input:focus {
      border-color: var(--gold);
      box-shadow: 0 0 0 1px rgba(201, 167, 104, 0.35);
      background: #fff;
    }

    .seat-result {
      margin-top: 10px;
      padding: 10px 11px;
      border: 1px solid var(--gold-soft);
      background: #f9f1e4;
      font-size: 13px;
      display: none;
    }

    .hint {
      margin-top: 6px;
      font-size: 12px;
      color: var(--text-sub);
    }

    /* 平面圖區塊 */
    .map-wrapper {
      position: relative;
      width: 100%;
      background: #f7eee1;
      border: 1px solid var(--gold-soft);
      padding: 8px;
    }

    .map-inner {
      position: relative;
      width: 100%;
      overflow: hidden;
    }

    .map-inner img {
      width: 100%;
      display: block;
    }

    /* 可點擊桌位（疊在圖片上的透明按鈕） */
    .table-hotspot {
      position: absolute;
      border-radius: 50%;
      border: 2px solid transparent;
      cursor: pointer;
      transition: box-shadow 0.15s ease-out, border-color 0.15s ease-out, transform 0.1s ease-out;
    }

    /* 預設看不到，只是個透明區域 */
    .table-hotspot::after {
      content: attr(data-label);
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 11px;
      color: transparent;
      pointer-events: none;
    }

    /* 被「亮燈」的桌位 */
    .table-hotspot.active {
      border-color: var(--gold);
      box-shadow: 0 0 0 4px rgba(201, 167, 104, 0.35);
      transform: scale(1.06);
    }

    .table-hotspot.active::after {
      color: var(--gold);
      font-weight: 600;
      text-shadow: 0 0 4px #fff;
    }

    .map-legend {
      margin-top: 6px;
      font-size: 12px;
      color: var(--text-sub);
      text-align: right;
    }

    @media (max-width: 900px) {
      .layout {
        grid-template-columns: minmax(0, 1fr);
      }
    }
  </style>
</head>
<body>
  <h1>SEAT FINDER</h1>
  <div class="sub">輸入姓名 → 找到桌號 → 平面圖上該桌亮燈</div>

  <div class="layout">
    <!-- 左：輸入姓名 -->
    <div class="card">
      <div class="card-title">GUEST SEARCH</div>
      <div class="card-sub">請輸入您的姓名（與喜帖相同），系統會顯示您的桌次與座位。</div>

      <input
        id="seatInput"
        class="seat-input"
        type="text"
        placeholder="例如：蔡名彥"
        oninput="searchSeat()" />

      <div class="hint">
        ※ 支援輸入部分姓名，例如「小明」也可以找到「王小明」。
      </div>

      <div id="seatResult" class="seat-result"></div>
    </div>

    <!-- 右：平面圖 + 熱區（桌位亮燈） -->
    <div class="map-wrapper card">
      <div class="card-title">FLOOR PLAN</div>
      <div class="card-sub">查詢結果會在右側平面圖上高亮顯示對應桌位。</div>

      <div class="map-inner">
        <!-- TODO：將 src 換成你實際上傳的平面圖檔案路徑 -->
        <img src="map.jpg" alt="婚宴會場桌位平面圖" />

        <!-- 示範：幾個桌位熱區，位置用百分比調整 -->
        <!-- 你之後可以依照實際圖像調整 top / left / width / height -->

        <!-- 主桌（示意） -->
       <div
         class="table-hotspot"
         data-table="主桌"
         style="top: 25%; left: 50%; width: 11%; height: 7%; transform: translate(-49%, -49%);">
       </div>


        <!-- 第1桌（示意） -->
        <div
          class="table-hotspot"
          data-table="1"
          style="top: 33%; left: 16%; width: 9%; height: 6.2%; transform: translate(-50%, -50%);">
        </div>

        <!-- 第2桌（示意） -->
        <div
          class="table-hotspot"
          data-table="2"
          style="top: 39%; left: 23%; width: 9%; height: 6.2%; transform: translate(-52%, -53%);">
        </div>

        <!-- 第3桌（示意） -->
        <div
          class="table-hotspot"
          data-table="3"
          style="top: 45%; left: 16%; width: 9%; height: 6.2%; transform: translate(-49%, -54%);">
        </div>

        <!-- 第4桌（示意） -->
        <div
          class="table-hotspot"
          data-table="4"          
          style="top: 50%; left: 23%; width: 9%; height: 6.2%; transform: translate(-53%, -43%);">
        </div>

        <!-- 第5桌（示意） -->
        <div
          class="table-hotspot"
          data-table="5"
          style="top: 56%; left: 16%; width: 9%; height: 6.2%; transform: translate(-49%, -48%);">
        </div>

        <!-- 第6桌（示意） -->
        <div
          class="table-hotspot"
          data-table="6"
          style="top: 62%; left: 23%; width: 9%; height: 6.2%; transform: translate(-52%, -49%);">
        </div>

          <!-- 第7桌（示意） -->
        <div
          class="table-hotspot"
          data-table="7"
          style="top: 68%; left: 16%; width: 9%; height: 6.2%; transform: translate(-49%, -57%);">
        </div>

         <!-- 第8桌（示意） -->
        <div
          class="table-hotspot"
          data-table="8"
          style="top: 73%; left: 23%; width: 9%; height: 6.2%; transform: translate(-51%, -44%);">
        </div> 

         <!-- 第9桌（示意） -->
        <div
          class="table-hotspot"
          data-table="9"
          style="top: 79%; left: 16%; width: 9%; height: 6.2%; transform: translate(-50%, -43%);">
        </div>

            <!-- 第10桌（示意） -->
        <div
          class="table-hotspot"
          data-table="10"
          style="top: 85%; left: 24%; width: 9%; height: 6.2%; transform: translate(-52%, -54%);">
        </div>

        <!-- 第11桌（示意） -->
        <div
          class="table-hotspot"
          data-table="11"
          style="top: 33%; left: 39%; width: 9%; height: 6.2%; transform: translate(-53%, -48%);">
        </div>

        <!-- 第12桌（示意） -->
        <div
          class="table-hotspot"
          data-table="12"
          style="top: 33%; left: 63%; width: 9%; height: 6.2%; transform: translate(-52%, -51%);">
        </div>
        
        <!-- 第13桌（示意） -->
        <div
          class="table-hotspot"
          data-table="13"
          style="top: 39%; left: 45%; width: 9%; height: 6.2%; transform: translate(-54%, -51%);">
        </div>

        <!-- 第14桌（示意） -->
        <div
          class="table-hotspot"
          data-table="14"
          style="top: 39%; left: 57%; width: 9%; height: 6.2%; transform: translate(-54%, -51%);">
        </div>
        
        <!-- 第15桌（示意） -->
        <div
          class="table-hotspot"
          data-table="15"
          style="top: 45%; left: 39%; width: 9%; height: 6.2%; transform: translate(-52%, -52%);">
        </div>

        <!-- 第16桌（示意） -->
        <div
          class="table-hotspot"
          data-table="16"
          style="top: 45%; left: 63%; width: 9%; height: 6.2%; transform: translate(-52%, -52%);">
        </div>

        <!-- 第17桌（示意） -->
        <div
          class="table-hotspot"
          data-table="17"
          style="top: 51%; left: 45%; width: 9%; height: 6.2%; transform: translate(-54%, -57%);">
        </div

          <!-- 第18桌（示意） -->
        <div
          class="table-hotspot"
          data-table="18"
          style="top: 51%; left: 57%; width: 9%; height: 6.2%; transform: translate(-53%, -58%);">
        </div>

        <!-- 第19桌（示意） -->
        <div
          class="table-hotspot"
          data-table="19"
          style="top: 56%; left: 39%; width: 9%; height: 6.2%; transform: translate(-53%, -48%);">
        </div>

        <!-- 第20桌（示意） -->
        <div
          class="table-hotspot"
          data-table="20"
          style="top: 56%; left: 63%; width: 9%; height: 6.2%; transform: translate(-52%, -49%);">
        </div>

        <!-- 第21桌（示意） -->
        <div
          class="table-hotspot"
          data-table="21"
          style="top: 63%; left: 45%; width: 9%; height: 6.2%; transform: translate(-54%, -63%);">
        </div

          <!-- 第22桌（示意） -->
        <div
          class="table-hotspot"
          data-table="22"
          style="top: 62%; left: 57%; width: 9%; height: 6.2%; transform: translate(-55%, -49%);">
        </div>

        <!-- 第23桌（示意） -->
        <div
          class="table-hotspot"
          data-table="23"
          style="top: 68%; left: 39%; width: 9%; height: 6.2%; transform: translate(-53%, -56%);">
        </div>

        <!-- 第24桌（示意） -->
        <div
          class="table-hotspot"
          data-table="24"
          style="top: 68%; left: 63%; width: 9%; height: 6.2%; transform: translate(-52%, -56%);">
        </div>

        <!-- 第25桌（示意） -->
        <div
          class="table-hotspot"
          data-table="25"
          style="top: 74%; left: 45%; width: 9%; height: 6.2%; transform: translate(-53%, -54%);">
        </div>

        <!-- 第26桌（示意） -->
        <div
          class="table-hotspot"
          data-table="26"
          style="top: 74%; left: 57%; width: 9%; height: 6.2%; transform: translate(-55%, -54%);">
        </div>

        <!-- 第27桌（示意） -->
        <div
          class="table-hotspot"
          data-table="27"
          style="top: 80%; left: 39%; width: 9%; height: 6.2%; transform: translate(-54%, -54%);">
        </div>

        <!-- 第28桌（示意） -->
        <div
          class="table-hotspot"
          data-table="28"
          style="top: 80%; left: 63%; width: 9%; height: 6.2%; transform: translate(-52%, -55%);">
        </div>

        <!-- 第29桌（示意） -->
        <div
          class="table-hotspot"
          data-table="29"
          style="top: 86%; left: 57%; width: 9%; height: 6.2%; transform: translate(-55%, -47%);">
        </div>

        <!-- 第30桌（示意） -->
        <div
          class="table-hotspot"
          data-table="30"
          style="top: 33%; left: 85%; width: 9%; height: 6.2%; transform: translate(-47%, -48%);">
        </div>

        <!-- 第31桌（示意） -->
        <div
          class="table-hotspot"
          data-table="31"
          style="top: 39%; left: 79%; width: 9%; height: 6.2%; transform: translate(-53%, -51%);">
        </div>

        <!-- 第32桌（示意） -->
        <div
          class="table-hotspot"
          data-table="32"
          style="top: 45%; left: 85%; width: 9%; height: 6.2%; transform: translate(-48%, -52%);">
        </div>

        <!-- 第33桌（示意） -->
        <div
          class="table-hotspot"
          data-table="33"
          style="top: 51%; left: 79%; width: 9%; height: 6.2%; transform: translate(-53%, -58%);">
        </div>

        <!-- 第34桌（示意） -->
        <div
          class="table-hotspot"
          data-table="34"
          style="top: 56%; left: 85%; width: 9%; height: 6.2%; transform: translate(-48%, -49%);">
        </div>

        <!-- 第35桌（示意） -->
        <div
          class="table-hotspot"
          data-table="35"
          style="top: 62%; left: 79%; width: 9%; height: 6.2%; transform: translate(-52%, -48%);">
        </div>

        <!-- 第36桌（示意） -->
        <div
          class="table-hotspot"
          data-table="36"
          style="top: 68%; left: 85%; width: 9%; height: 6.2%; transform: translate(-49%, -56%);">
        </div>

        <!-- 第37桌（示意） -->
        <div
          class="table-hotspot"
          data-table="37"
          style="top: 73%; left: 79%; width: 9%; height: 6.2%; transform: translate(-52%, -51%);">
        </div>

        <!-- 第38桌（示意） -->
        <div
          class="table-hotspot"
          data-table="38"
          style="top: 80%; left: 85%; width: 9%; height: 6.2%; transform: translate(-48%, -56%);">
        </div>

        <!-- 第39桌（示意） -->
        <div
          class="table-hotspot"
          data-table="39"
          style="top: 87%; left: 79%; width: 9%; height: 6.2%; transform: translate(-52%, -63%);">
        </div>

      
        <!-- 之後你可以依照這個格式，繼續補 5～40 桌 -->
      </div>

      <div class="map-legend">
        高亮桌位代表系統為您找到的桌次位置。
      </div>
    </div>
  </div>

  <script>
    // 座位資料（示範）
    const SEAT_DATA = [
      { name: "蔡名彥", table: "主桌", seat: "新郎" },
      { name: "洪琪晴", table: "主桌", seat: "新娘" },
      { name: "洪文靖", table: "主桌", seat: "女方主婚人" },
      { name: "李佳蓉", table: "主桌", seat: "女方主婚人" },
      { name: "蔡光熙", table: "主桌", seat: "男方主婚人" },
      { name: "陳玉慧", table: "主桌", seat: "男方主婚人" },
      { name: "陳榮貴", table: "主桌", seat: "男方長輩" },
      { name: "陳林美蓮", table: "主桌", seat: "男方長輩" },
      { name: "陳宏坤", table: "主桌", seat: "男方舅舅" },
      { name: "李燦榮", table: "主桌", seat: "女方舅舅" },
      { name: "", table: "主桌", seat: "女方舅舅" },
      { name: "蔡光明", table: "主桌", seat: "男方長輩" },
      // 西網扶輪社 A（桌號 5）
      { name: "陳建宏", table: "5", seat: "西網扶輪社 A" },
      { name: "陳建宏", table: "5", seat: "西網扶輪社 A" },
      { name: "鞠志遠", table: "5", seat: "西網扶輪社 A" },
      { name: "蘇力萍", table: "5", seat: "西網扶輪社 A" },
      { name: "林嘉勳", table: "5", seat: "西網扶輪社 A" },
      { name: "林秀榛", table: "5", seat: "西網扶輪社 A" },
      { name: "洪緯典", table: "5", seat: "西網扶輪社 A" },
      { name: "洪緯典", table: "5", seat: "西網扶輪社 A" },
      { name: "孫贊凱", table: "5", seat: "西網扶輪社 A" },
      { name: "林振榮", table: "5", seat: "西網扶輪社 A" },

      // 西網扶輪社 B（桌號 7）
      { name: "孫世復", table: "7", seat: "西網扶輪社 B" },
      { name: "孫世復", table: "7", seat: "西網扶輪社 B" },
      { name: "徐宏進", table: "7", seat: "西網扶輪社 B" },
      { name: "黃俊榮", table: "7", seat: "西網扶輪社 B" },
      { name: "谷鴻祥", table: "7", seat: "西網扶輪社 B" },
      { name: "俞凱允", table: "7", seat: "西網扶輪社 B" },
      { name: "林剛仰", table: "7", seat: "西網扶輪社 B" },
      { name: "林科宇", table: "7", seat: "西網扶輪社 B" },
      { name: "吳振豪", table: "7", seat: "西網扶輪社 B" },
      { name: "游榮富", table: "7", seat: "西網扶輪社 B" },

      // 爸爸同學 B（桌號 12）
      { name: "王仲儀", table: "12", seat: "爸爸同學 B" },
      { name: "王仲儀", table: "12", seat: "爸爸同學 B" },
      { name: "陳志明", table: "12", seat: "爸爸同學 B" },
      { name: "陳志明", table: "12", seat: "爸爸同學 B" },
      { name: "張鎮非", table: "12", seat: "爸爸同學 B" },
      { name: "張鎮非", table: "12", seat: "爸爸同學 B" },
      { name: "申德光", table: "12", seat: "爸爸同學 B" },
      { name: "申德光", table: "12", seat: "爸爸同學 B" },
      { name: "吳志雄", table: "12", seat: "爸爸同學 B" },
      { name: "吳志雄", table: "12", seat: "爸爸同學 B" },

      // 之後你可以把全名單塞進來
    ];

    // ✅ 建立 seat → 名字列表（反查用）
const seatToGuests = {};

SEAT_DATA.forEach(item => {
  const seat = item.seat;
  const name = item.name;

  if (!seatToGuests[seat]) {
    seatToGuests[seat] = [];
  }
  seatToGuests[seat].push(name);
});


    function clearActiveTables() {
      document.querySelectorAll(".table-hotspot.active").forEach(el => {
        el.classList.remove("active");
      });
    }

    function highlightTables(tableIds) {
      clearActiveTables();
      tableIds.forEach(table => {
        const selector = `.table-hotspot[data-table="${table}"]`;
        const el = document.querySelector(selector);
        if (el) {
          el.classList.add("active");
        }
      });
    }

    function searchSeat() {
  const input = document.getElementById("seatInput").value.trim();
  const resultBox = document.getElementById("seatResult");

  if (!input) {
    resultBox.style.display = "none";
    clearActiveTables();
    return;
  }

  const keyword = input.toLowerCase();
  const matches = SEAT_DATA.filter(item =>
    item.name.toLowerCase().includes(keyword)
  );

  if (matches.length === 0) {
    resultBox.innerHTML = "查無此姓名，請確認是否與喜帖相同，或向現場服務人員協助查詢。";
    highlightTables([]);
  
  } else if (matches.length === 1) {

    const g = matches[0];

    // ✅ 找出同桌所有人（功能 D）
    const sameTableGuests = SEAT_DATA.filter(item => item.table === g.table);

    resultBox.innerHTML = `
      ✅ 歡迎您，<b>${g.name}</b><br>
      桌號：${g.table} 桌<br>
      座位：${g.seat}<br><br>
      <b>【${g.table} 桌所有賓客】</b><br>
      ${sameTableGuests.map(p => "• " + p.name + "（座位 " + p.seat + "）").join("<br>")}
    `;

    highlightTables([g.table]);

  } else {

    // ✅ 多筆結果（維持原本功能）
    resultBox.innerHTML = matches
      .map(g => `• ${g.name}：${g.table} 桌，座位 ${g.seat}`)
      .join("<br>");

    const tables = [...new Set(matches.map(g => g.table))];
    highlightTables(tables);
  }

  resultBox.style.display = "block";
}

    // ✅ 用 seat 查詢這桌有哪些人
function findGuestsBySeat(seatName) {
  const guests = seatToGuests[seatName];

  if (!guests) {
    alert(`找不到「${seatName}」這個座位`);
    return;
  }

  alert(`【${seatName}】\n\n${guests.join("\n")}`);
}

    
    // 讓點桌位也能顯示資訊（選桌反查）
    document.addEventListener("click", (e) => {
      const hotspot = e.target.closest(".table-hotspot");
      if (!hotspot) return;

      const tableId = hotspot.getAttribute("data-table");
      const resultBox = document.getElementById("seatResult");

      const guests = SEAT_DATA.filter(g => g.table === tableId);
      if (guests.length === 0) {
        resultBox.innerHTML = `此桌目前尚無座位資訊（桌號：${tableId}）`;
      } else {
        resultBox.innerHTML = guests
          .map(g => `• ${g.name}：座位 ${g.seat}`)
          .join("<br>");
      }
      resultBox.style.display = "block";
      highlightTables([tableId]);
    });
  </script>
</body>
</html>

















